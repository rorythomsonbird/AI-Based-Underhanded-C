import GPTAPI
import os

class MalwareCheck:

    @classmethod
    def check(file): #Check if malware
        filestr = MalwareCheck.filetostring(file)
        print(GPTAPI.generate_response("In a simple yes or no answer does this code snippet in c have any malicious code within?: \n" + filestr)) #Print if the code is malicious or not
    
    @classmethod
    def filetostring(file): #Convert the file text into a string
        with open(file) as fileOpen:
            filestr = fileOpen.read()
        return filestr

    @classmethod
    def checksamples():
        dir_path = r'Samples'
        fcount = 0
        for path in os.listdir(dir_path):
            if '.obj' not in path:
                MalwareCheck.check("Samples/"+path)
